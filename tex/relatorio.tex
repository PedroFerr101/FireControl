% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

\documentclass[11pt]{article} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)
\usepackage[document]{ragged2e}

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

\usepackage{graphicx} % support the \includegraphics command and options
\usepackage{enumerate}  

% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

\usepackage{xcolor}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!
\usepackage{amsmath,amssymb}

%%% END Article customizations

%%% The "real" document content comes below...

\title{Métodos Determinísticos de Investigação Operacional \\ \large Trabalho Prático}
\author{Diogo Sobral, a82523 \\ Henrique Pereira, a80261 \\ Pedro Moreira, a82364 \\ Pedro Ferreira, a81135}
\date{2018/2019}

\begin{document}
\maketitle

\begin{figure*}[!b]
    \centering
    \includegraphics[width=1in]{um_eeng.jpg}
\end{figure*}

\newpage

\section*{Questão 1}
\subsection*{a)}
\textbf{Parâmetros:}  \\
\begin{center}
t\textsubscript{ij} -tempo que o fogo demora a chegar da célula i à célula j\\
i=1,...,n e j=1,...n \\
\end{center}
\textbf{Variáveis de Decisão:} \\
\begin{center}
x\textsubscript{ij} - número de caminhos a que o arco que une as células i e j pertence\\
i=1,...,n e j=1,...n \\
\end{center}
\textbf{Função Objetivo:} \\
$$min \ Z = \sum_{i=1}^{n} \sum_{j=1}^{n} d_i_jx_i_j$$
\textbf{Sujeito a:}
\begin{enumerate}[(i)]
\item $$x_i_i = 0, \forall i \in 1,...,n$$
\item $$\sum_{j=2}^{n} (x_1_j - x_j_1) = n-1$$
\item $$\sum_{j=1}^{n} (x_i_j - x_j_i) = -1, \forall i \in 2,...,n $$
\item $$x_i_j \geq 0, \forall i \in 1,...,n , \forall j \in 1,...,n$$
\end{enumerate}

\textcolor{red}{Falta exemplificar com a instância}

\subsection*{b)}

\textbf{Parâmetros:}  \\
\begin{center}
t\textsubscript{ij} - tempo que o fogo demora a chegar da célula i à célula j \\
i=1,...,n e j=1,...n \\
\end{center}
\textbf{Variáveis de Decisão:} \\
\begin{center}
t\_chegada\textsubscript{i} - tempo total que o fogo demora a chegar à celula i \\
i=1,...,n\\
\end{center}
\textbf{Função Objetivo:} \\
$$max \ Z = \sum_{i=1}^{n} t\_chegada_i$$
\textbf{Sujeito a:}
\begin{enumerate}[(i)]
\item $$t\_chegada_i = 0$$
\item $$t\_chegada_j \leq t\_chegada_i + t_i_j, \forall i \in 1,...,n , \forall j \in 2,...,n$$
\item $$t\_chegada_i \geq 0, \forall i \in 1,...,n$$
\end{enumerate}

\textcolor{red}{Falta exemplificar com a instância}

\subsection*{c)}
\textcolor{red}{Obtenha as soluções óptimas primal e dual através da resolução do modelo primal.}

\subsection*{d)}
\textcolor{red}{Obtenha as soluções óptimas primal e dual através da resolução do modelo dual. Confirme que as soluções são as mesmas que as obtidas na alínea anterior, ou, caso não sejam, apresente uma justificação.}

\section*{Questão 2}
\subsection*{a)}
\textbf{Parâmetros:}  \\
\begin{center}
t\textsubscript{ij} - tempo que o fogo demora a chegar da célula i à célula j \\
i=1,...,n e j=1,...n \\
b - número de recursos disponíveis \\
$\Delta$ - constante de retardação \\
cel\_igni - célula de ignição do fogo \\
cel\_obj - célula a que se pretende atrasar a chegada do fogo
\end{center}

\textbf{Variáveis de Decisão:} \\
\begin{center}
x\textsubscript{i} = \begin{cases} 1, & \mbox{se a célula} \ i \ \mbox{tem recurso de proteção} \\ 0, & \mbox{caso contrário}\end{cases} \\
i=1,...,n \\
t\_chegada\textsubscript{i} - tempo que o fogo demora a chegar à celula i \\
i=1,...,n \\
\end{center}
\textbf{Função Objetivo:} \\
$$max \ Z = t\_chegada\textsubscript{$cel\_obj$}$$ \\
\textcolor{red}{justificação} \\
\textbf{Sujeito a:}
\begin{enumerate}[(i)]
\item $$t\textsubscript{cel\_igni} = 0$$ \textcolor{red}{justificação}
\item $$t\_chegada_j \leq t\_chegada_i + t_i_j + \Delta x_i, \forall i \in 1,...n, \forall j \in 1,...,n$$ \textcolor{red}{justificação}
\item $$\sum_{i=1}^{n} x_i \leq b$$ \textcolor{red}{justificação}
\item $$t\_chegada_i \geq 0, \forall i \in 1,...,n$$ \textcolor{red}{justificação}
\end{enumerate}

\subsection*{b)}
\textcolor{red}{Para a instância de sete por sete células e os tempos de propagação em anexo,
obtenha uma solução através do IBM ILOG CPLEX Optimization Studio (link para
versão gratuita no final do enunciado) com uma ignição na célula (1,1) e
pretendendo-se proteger a célula (7,7). Represente a solução de forma adequada e
interprete-a.}

\subsection*{c)}
\textcolor{red}{Represente graficamente o tempo de chegada do fogo à célula de protecção em
função do número de recursos usados. Interprete e comente.}

\section*{Questão 3}

\subsection*{a)}
\textbf{Parâmetros:}  \\
\begin{center}
t\textsubscript{max} - fim do intervalo de tempo\\
b - número de recursos disponíveis \\
$\Delta$ - constante de retardação \\
p\textsubscript{s} - probabilidade de ignição na célula s
\end{center}
\textbf{Variáveis de Decisão:} \\

\begin{center}
x\textsubscript{i} = \begin{cases} 1, & \mbox{se a célula} \ i \ \mbox{tem recurso de proteção} \\ 0, & \mbox{caso contrário}\end{cases} \\
i=1,...,n \\
t\textsubscript{ij} - tempo que o fogo demora a chegar da célula i à celula j \\
i=1,...,n e j=1,...,n \\
y\textsubscript{si} = \begin{cases} 1, & \mbox{se o fogo com início na célula} \ s \ \mbox{chega a} \ i \  \mbox{num tempo inferior a t\textsubscript{max}} \\ 0, & \mbox{caso contrário}\end{cases} \\
s=1,...,n e i=1,...,n
\end{center}

\textbf{Função Objetivo:} \\
$$min \ Z = \sum_{s=1}^{n} \sum_{i=1}^{n} p_sy_s_i$$ \\
\textcolor{red}{justificação} \\

\textbf{Sujeito a:}
\begin{enumerate}[(i)]
\item $$t\textsubscript{ss} = 0, \forall s \in 1,...,n$$ \textcolor{red}{justificação}
\item $$t_s_j \leq t_s_i + d_i_j + \Delta x_i, \forall s \in 1,...n, \forall i \in 1,...,n , \forall j \in 1,...,n$$ \textcolor{red}{justificação}
\item $$y_s_i \geq \frac{ t\textsubscript{max}-t_s_i}{t\textsubscript{max}}, \forall s \in 1,...,n, \forall i \in 1,...,n $$ \textcolor{red}{justificação}
\item $$\sum_{i=1}^{n} x_i \leq b$$ \textcolor{red}{justificação}
\end{enumerate}

\subsection*{b)}
\textcolor{red}{Para a instância em anexo, obtenha uma solução através do IBM ILOG CPLEX
Optimization Studio com probabilidade de ignição na célula (i, j) dada por (14 - i -
j)/500 e intervalo de 12 unidades de tempo. Represente a solução de forma adequada
e interprete-a.}

\subsection*{c)}
\textcolor{red}{Represente graficamente o valor esperado da área ardida em função do intervalo
de tempo considerado. Interprete e comente.}

\end{document}
